
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents &#8212; python-documentcloud 1.0.4 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Projects" href="projects.html" />
    <link rel="prev" title="Getting started" href="gettingstarted.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="projects.html" title="Projects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">python-documentcloud 1.0.4 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Documents</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="documents">
<h1>Documents<a class="headerlink" href="#documents" title="Permalink to this headline">¶</a></h1>
<p>Methods for drawing down, editing and uploading data about documents.</p>
<div class="section" id="retrieval">
<h2>Retrieval<a class="headerlink" href="#retrieval" title="Permalink to this headline">¶</a></h2>
<dl class="py method">
<dt id="client.documents.get">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id_</span></em>, <em class="sig-param"><span class="n">expand</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the document with the provided DocumentCloud identifer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">documentcloud</span> <span class="kn">import</span> <span class="n">DocumentCloud</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">DocumentCloud</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">71072</span><span class="p">)</span>
<span class="go">&lt;Document: Final OIR Report&gt;</span>
</pre></div>
</div>
<p>The identifier may be just the numeric ID (71072, preferred), the old style ID-slug
(71072-oir-final-report), or the new style slug-id (oir-final-report-71072).</p>
<p>Setting expand allows for the user or organization details to be fetched with the
document, instead of requiring a separate API request to fetch them.  Set expand to
a list of the values you would like expanded.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">71072</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">71072</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;organization&quot;</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="client.documents.search">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">query</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.search" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Return a list of documents that match the provided query.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">documentcloud</span> <span class="kn">import</span> <span class="n">DocumentCloud</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">DocumentCloud</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Ruben Salazar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&lt;Document: Final OIR Report&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>The params may be set to any parameters that the search end point takes.
Please see the full <a class="reference external" href="https://beta.documentcloud.org/help/search/">search documentation</a> for query syntax and
available parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="client.documents.list">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all documents, possibly filtered by the given parameters.
Please see the full <a class="reference external" href="https://beta.documentcloud.org/help/API/">API documentation</a>
for available parameters.</p>
</dd></dl>

<dl class="py method">
<dt id="client.documents.all">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">all</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">params</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.all" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <a class="reference internal" href="#client.documents.list" title="client.documents.list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">list()</span></code></a>.</p>
</dd></dl>

</div>
<div class="section" id="editing">
<h2>Editing<a class="headerlink" href="#editing" title="Permalink to this headline">¶</a></h2>
<dl class="py method">
<dt id="document_obj.put">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">put</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#document_obj.put" title="Permalink to this definition">¶</a></dt>
<dd><p>Save changes to a document back to DocumentCloud. You must be authorized to
make these changes. Only the
<a class="reference internal" href="#document_obj.access" title="document_obj.access"><code class="xref py py-attr docutils literal notranslate"><span class="pre">access</span></code></a>,
<a class="reference internal" href="#document_obj.data" title="document_obj.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a>,
<a class="reference internal" href="#document_obj.description" title="document_obj.description"><code class="xref py py-attr docutils literal notranslate"><span class="pre">description</span></code></a>,
<a class="reference internal" href="#document_obj.language" title="document_obj.language"><code class="xref py py-attr docutils literal notranslate"><span class="pre">language</span></code></a>,
<a class="reference internal" href="#document_obj.related_article" title="document_obj.related_article"><code class="xref py py-attr docutils literal notranslate"><span class="pre">related_article</span></code></a>,
<a class="reference internal" href="#document_obj.published_url" title="document_obj.published_url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">published_url</span></code></a>,
<a class="reference internal" href="#document_obj.source" title="document_obj.source"><code class="xref py py-attr docutils literal notranslate"><span class="pre">source</span></code></a>,
and <a class="reference internal" href="#document_obj.title" title="document_obj.title"><code class="xref py py-attr docutils literal notranslate"><span class="pre">title</span></code></a>,
attributes may be edited.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Grab a document</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;71072&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">obj</span><span class="o">.</span><span class="n">title</span>
<span class="go">Draft OIR Report</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Change its title</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Brand new title&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">obj</span><span class="o">.</span><span class="n">title</span>
<span class="go">Brand New Title</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Save those changes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">put</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="document_obj.save">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#document_obj.save" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <a class="reference internal" href="#document_obj.put" title="document_obj.put"><code class="xref py py-meth docutils literal notranslate"><span class="pre">put()</span></code></a> that saves changes back to DocumentCloud.</p>
</dd></dl>

<dl class="py method">
<dt id="document_obj.delete">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#document_obj.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a document from DocumentCloud. You must be authorized to make these changes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;71072-oir-final-report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="uploading">
<h2>Uploading<a class="headerlink" href="#uploading" title="Permalink to this headline">¶</a></h2>
<dl class="py method">
<dt id="client.documents.upload">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">upload</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdf</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a PDF to DocumentCloud. You must be authorized to do this. Returns
the object representing the new record you’ve created. You can submit either
a file path or a file object.</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">documentcloud</span> <span class="kn">import</span> <span class="n">DocumentCloud</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">DocumentCloud</span><span class="p">(</span><span class="n">USERNAME</span><span class="p">,</span> <span class="n">PASSWORD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_id</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s2">&quot;/home/ben/test.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;Test PDF&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Now fetch it</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">new_id</span><span class="p">)</span>
<span class="go">&lt;Document: Test PDF&gt;</span>
</pre></div>
</div>
<p>You can also use URLs which link to PDFs, if that’s the kind of thing you
want to do.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">upload</span><span class="p">(</span><span class="s2">&quot;http://ord.legistar.com/Chicago/attachments/e3a0cbcb-044d-4ec3-9848-23c5692b1943.pdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You may set the <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> to any of the writable attributes as described
in <code class="xref py py-meth docutils literal notranslate"><span class="pre">put()</span></code>.  Additionally, you may set <code class="docutils literal notranslate"><span class="pre">force_ocr</span></code> in order to force
OCR to take place even if the document has embedded text, as well as either
<code class="docutils literal notranslate"><span class="pre">project</span></code> to the ID of a project to upload the document into, or
<code class="docutils literal notranslate"><span class="pre">projects</span></code>, a list of project IDs to upload the document into.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="client.documents.upload_directory">
<code class="sig-prename descclassname">client.documents.</code><code class="sig-name descname">upload_directory</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pdf</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#client.documents.upload_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Searches through the provided path and attempts to upload all the PDFs it
can find. Metadata, which accepts the same keywords as <a class="reference internal" href="#client.documents.upload" title="client.documents.upload"><code class="xref py py-meth docutils literal notranslate"><span class="pre">upload()</span></code></a>,
provided to the other keyword arguments will be recorded for all uploads
(except for title which will be set based on the filename). Returns a list
of document objects that are created. Be warned, this will upload any
documents in directories inside the path you specify.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">documentcloud</span> <span class="kn">import</span> <span class="n">DocumentCloud</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">DocumentCloud</span><span class="p">(</span><span class="n">DOCUMENTCLOUD_USERNAME</span><span class="p">,</span> <span class="n">DOCUMENTCLOUD_PASSWORD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">upload_directory</span><span class="p">(</span><span class="s1">&#39;/home/ben/pdfs/groucho_marx/&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="metadata">
<h2>Metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h2>
<dl class="py attribute">
<dt id="document_obj.access">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">access</code><a class="headerlink" href="#document_obj.access" title="Permalink to this definition">¶</a></dt>
<dd><p>The privacy level of the resource within the DocumentCloud system. It will
be either <code class="docutils literal notranslate"><span class="pre">public</span></code>, <code class="docutils literal notranslate"><span class="pre">private</span></code> or <code class="docutils literal notranslate"><span class="pre">organization</span></code>, the last of which
means the is only visible to members of the contributors organization. Can
be edited and saved with a put command.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.annotations">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">annotations</code><a class="headerlink" href="#document_obj.annotations" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the annotations users have left on the document. The data are
modeled by their own Python class, defined in the <a class="reference internal" href="otherobjects.html#annotations"><span class="std std-ref">Annotations</span></a>
section.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;83251-fbi-file-on-christopher-biggie-smalls-wallace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">annotations</span>
<span class="go">[&lt;Annotation&gt;, &lt;Annotation&gt;, &lt;Annotation&gt;, &lt;Annotation&gt;, &lt;Annotation&gt;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.asset_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">asset_url</code><a class="headerlink" href="#document_obj.asset_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.canonical_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">canonical_url</code><a class="headerlink" href="#document_obj.canonical_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL where the document is hosted at documentcloud.org.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.contributor">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">contributor</code><a class="headerlink" href="#document_obj.contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>The user who originally uploaded the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.contributor_organization">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">contributor_organization</code><a class="headerlink" href="#document_obj.contributor_organization" title="Permalink to this definition">¶</a></dt>
<dd><p>The organizational affiliation of the user who originally uploaded the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.created_at">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">created_at</code><a class="headerlink" href="#document_obj.created_at" title="Permalink to this definition">¶</a></dt>
<dd><p>The date and time that the document was created, in Python’s datetime format.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.data">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">data</code><a class="headerlink" href="#document_obj.data" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing supplementary data linked to the document. This can
be any old thing. It’s useful if you’d like to store additional metadata.
Can be edited and saved with a put command.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;83251-fbi-file-on-christopher-biggie-smalls-wallace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">data</span>
<span class="go">{&#39;category&#39;: &#39;hip-hop&#39;, &#39;byline&#39;: &#39;Ben Welsh&#39;, &#39;pub_date&#39;: datetime.date(2011, 3, 1)}</span>
</pre></div>
</div>
<p>Keys must be strings and only contain alphanumeric characters.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.description">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">description</code><a class="headerlink" href="#document_obj.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A summary of the document. Can be edited and saved with a put command.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.edit_access">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">edit_access</code><a class="headerlink" href="#document_obj.edit_access" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.file_hash">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">file_hash</code><a class="headerlink" href="#document_obj.file_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>A hash representation of the raw PDF data as a hexadecimal string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1021571-lafd-2013-hiring-statistics&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">file_hash</span>
<span class="go">&#39;872b9b858f5f3e6bb6086fec7f05dd464b60eb26&#39;</span>
</pre></div>
</div>
<p>You could recreate this hexadecimal hash yourself using the <a class="reference external" href="https://en.wikipedia.org/wiki/SHA-1">SHA-1
algorithm</a>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hashlib</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha1</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">pdf</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="go">&#39;872b9b858f5f3e6bb6086fec7f05dd464b60eb26&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.full_text">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">full_text</code><a class="headerlink" href="#document_obj.full_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the full text of the document, as extracted from the original PDF by DocumentCloud. Results may vary, but this will give you what they got. Currently, DocumentCloud only makes this available for public documents.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;71072-oir-final-report&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">full_text</span>
<span class="go">&quot;Review of the Los Angeles County Sheriff&#39;s\nDepartment&#39;s Investigation</span>
<span class="go">into the\nHomicide of Ruben Salazar\nA Special Report by the\nLos</span>
<span class="go">Angeles County Office of Independent Review\n ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.full_text_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">full_text_url</code><a class="headerlink" href="#document_obj.full_text_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the URL that contains the full text of the document, as extracted
from the original PDF by DocumentCloud.</p>
</dd></dl>

<dl class="py method">
<dt id="document_obj.get_page_text">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">get_page_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">page</span></em><span class="sig-paren">)</span><a class="headerlink" href="#document_obj.get_page_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a page number and receive the raw text extracted from it by DocumentCloud.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;1088501-adventuretime-alta&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">txt</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">get_page_text</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go"># Let&#39;s print just the first line</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">txt</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">STATE OF CALIFORNIA- HEALTH AND HUMAN SERVICES AGENCY</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.id">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">id</code><a class="headerlink" href="#document_obj.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The unique identifer of the document in DocumentCloud’s system. This is a number.
<code class="docutils literal notranslate"><span class="pre">83251</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.language">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">language</code><a class="headerlink" href="#document_obj.language" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.large_image">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">large_image</code><a class="headerlink" href="#document_obj.large_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the binary data for the “large” sized image of the document’s first
page. If you would like the data for some other page, pass the page number
into <code class="docutils literal notranslate"><span class="pre">document_obj.get_large_image(page)</span></code>. Currently, DocumentCloud only
makes this available for public documents.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.large_image_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">large_image_url</code><a class="headerlink" href="#document_obj.large_image_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL containing the “large” sized image of the document’s first
page. If you would like the URL for some other page, pass the page number
into <code class="docutils literal notranslate"><span class="pre">document_obj.get_large_image_url(page)</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.large_image_url_list">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">large_image_url_list</code><a class="headerlink" href="#document_obj.large_image_url_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of URLs for the “large” sized image of every page in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.mentions">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">mentions</code><a class="headerlink" href="#document_obj.mentions" title="Permalink to this definition">¶</a></dt>
<dd><p>When the document has been retrieved via a search, this returns a list of
places the search keywords appear in the text. The data are modeled by
their own Python class, defined in the <a class="reference internal" href="otherobjects.html#mentions"><span class="std std-ref">Mentions</span></a> section.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj_list</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;Christopher Wallace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">obj_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">mentions</span>
<span class="go">[&lt;Mention: Page 2&gt;, &lt;Mention: Page 3&gt; ....</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.normal_image">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">normal_image</code><a class="headerlink" href="#document_obj.normal_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the binary data for the “normal” sized image of the document’s
first page. If you would like the data for some other page, pass the page
number into <code class="docutils literal notranslate"><span class="pre">document_obj.get_normal_image(page)</span></code>. Currently,
DocumentCloud only makes this available for public documents.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.normal_image_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">normal_image_url</code><a class="headerlink" href="#document_obj.normal_image_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL containing the “normal” sized image of the document’s first
page. If you would like the URL for some other page, pass the page number
into <code class="docutils literal notranslate"><span class="pre">document_obj.get_normal_image_url(page)</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.normal_image_url_list">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">normal_image_url_list</code><a class="headerlink" href="#document_obj.normal_image_url_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of URLs for the “normal” sized image of every page in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.organization">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">organization</code><a class="headerlink" href="#document_obj.organization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.page_count">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">page_count</code><a class="headerlink" href="#document_obj.page_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#document_obj.pages" title="document_obj.pages"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pages</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.page_spec">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">page_spec</code><a class="headerlink" href="#document_obj.page_spec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.pages">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">pages</code><a class="headerlink" href="#document_obj.pages" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of pages in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.pdf">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">pdf</code><a class="headerlink" href="#document_obj.pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the binary data for document’s original PDF file. Currently,
DocumentCloud only makes this available for public documents.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.pdf_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">pdf_url</code><a class="headerlink" href="#document_obj.pdf_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL containing the binary data for document’s original PDF file.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.projects">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">projects</code><a class="headerlink" href="#document_obj.projects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.published_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">published_url</code><a class="headerlink" href="#document_obj.published_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an URL outside of documentcloud.org where this document has been published.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.related_article">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">related_article</code><a class="headerlink" href="#document_obj.related_article" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an URL for a news story related to this document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.sections">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">sections</code><a class="headerlink" href="#document_obj.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the sections earmarked in the text by a user. The data are
modeled by their own Python class, defined in the <a class="reference internal" href="otherobjects.html#sections"><span class="std std-ref">Sections</span></a> section.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">documents</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;74103-report-of-the-calpers-special-review&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">sections</span>
<span class="go">[&lt;Section: Letter to Avraham Shemesh and Richard Resller of SIM Group&gt;, &lt;Section: Letter to Ralph Whitworth, founder of Relational Investors&gt;, ...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.slug">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">slug</code><a class="headerlink" href="#document_obj.slug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.small_image">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">small_image</code><a class="headerlink" href="#document_obj.small_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the binary data for the “small” sized image of the document’s first
page. If you would like the data for some other page, pass the page number
into <code class="docutils literal notranslate"><span class="pre">document_obj.get_small_image(page)</span></code>. Currently, DocumentCloud only
makes this available for public documents.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.small_image_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">small_image_url</code><a class="headerlink" href="#document_obj.small_image_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL containing the “small” sized image of the document’s first
page. If you would like the URL for some other page, pass the page number
into <code class="docutils literal notranslate"><span class="pre">document_obj.get_small_image_url(page)</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.small_image_url_list">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">small_image_url_list</code><a class="headerlink" href="#document_obj.small_image_url_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of URLs for the “small” sized image of every page in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.source">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">source</code><a class="headerlink" href="#document_obj.source" title="Permalink to this definition">¶</a></dt>
<dd><p>The original source of the document. Can be edited and saved with a put command.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.status">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">status</code><a class="headerlink" href="#document_obj.status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="document_obj.thumbnail_image">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">thumbnail_image</code><a class="headerlink" href="#document_obj.thumbnail_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the binary data for the “thumbnail” sized image of the document’s
first page. If you would like the data for some other page, pass the page
number into <code class="docutils literal notranslate"><span class="pre">document_obj.get_thumbnail_image(page)</span></code>. Currently,
DocumentCloud only makes this available for public documents.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.thumbnail_image_url">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">thumbnail_image_url</code><a class="headerlink" href="#document_obj.thumbnail_image_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL containing the “thumbnail” sized image of the document’s
first page. If you would like the URL for some other page, pass the page
number into <code class="docutils literal notranslate"><span class="pre">document_obj.get_small_thumbnail_url(page)</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.thumbnail_image_url_list">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">thumbnail_image_url_list</code><a class="headerlink" href="#document_obj.thumbnail_image_url_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of URLs for the “small” sized image of every page in the document.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.title">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">title</code><a class="headerlink" href="#document_obj.title" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the document. Can be edited and saved with a put command.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.updated_at">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">updated_at</code><a class="headerlink" href="#document_obj.updated_at" title="Permalink to this definition">¶</a></dt>
<dd><p>The date and time that the document was last updated, in Python’s datetime format.</p>
</dd></dl>

<dl class="py attribute">
<dt id="document_obj.user">
<code class="sig-prename descclassname">document_obj.</code><code class="sig-name descname">user</code><a class="headerlink" href="#document_obj.user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Documents</a><ul>
<li><a class="reference internal" href="#retrieval">Retrieval</a></li>
<li><a class="reference internal" href="#editing">Editing</a></li>
<li><a class="reference internal" href="#uploading">Uploading</a></li>
<li><a class="reference internal" href="#metadata">Metadata</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gettingstarted.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="projects.html"
                        title="next chapter">Projects</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/documents.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="projects.html" title="Projects"
             >next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="Getting started"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">python-documentcloud 1.0.4 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Documents</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Los Angeles Times Data Desk.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>